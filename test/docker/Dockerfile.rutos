# RUTOS Test Environment Dockerfile
# Based on official OpenWrt Docker: https://github.com/openwrt/docker
# Uses Alpine with OpenWrt build tools for testing
FROM alpine:latest

# Set environment variables
ENV GCC_COLORS='error=01;31:warning=01;35:note=01;36:caret=01;32:locus=01:quote=01'
WORKDIR /workdir

# Install OpenWrt build dependencies and basic tools
RUN apk add --no-cache \
    bash \
    curl \
    git \
    make \
    gcc \
    g++ \
    musl-dev \
    linux-headers \
    pkgconfig \
    cmake \
    python3 \
    py3-pip \
    wget \
    tar \
    gzip \
    bzip2 \
    xz \
    patch \
    diffutils \
    findutils \
    grep \
    sed \
    jq \
    && rm -rf /var/cache/apk/*

# Create test directories
RUN mkdir -p /workdir/test /workdir/build /workdir/results

# Set default command
CMD ["/bin/bash"]
