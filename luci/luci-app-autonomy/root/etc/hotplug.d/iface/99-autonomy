#!/bin/sh

# autonomy interface hotplug handler
# This script is called when network interfaces change state

[ "$ACTION" = "ifup" ] || [ "$ACTION" = "ifdown" ] || exit 0

# Notify autonomyd of interface changes
ubus call autonomy action '{"cmd":"recheck"}' >/dev/null 2>&1

# Log the interface change
logger -t autonomy "Interface $INTERFACE $ACTION"
